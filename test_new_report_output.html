<h2>Debug: Trades Found</h2><p>Jumlah trades ditemukan: 0</p><h2>Debug: Monthly Stats</h2><p>Jumlah bulan ditemukan: 0</p><!DOCTYPE html>
    <html>
    <head>
        <title>Hasil Analisis Laporan Backtest</title>
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            table { border-collapse: collapse; width: 100%; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; cursor: pointer; }
            th:hover { background-color: #ddd; }
            h2 { color: #333; }
            .settings { background-color: #f9f9f9; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
            .sortable { background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJUlEQVR42mNgYGD4z8DAwMgABXAGKQYmwN8I1QzTFK8aBgYAJI0TjCK7jowAAAAASUVORK5CYII='); background-repeat: no-repeat; background-position: center right; padding-right: 15px; }
            .sort-asc::after { content: ' ↑'; }
            .sort-desc::after { content: ' ↓'; }
        </style>
        <script>
            function sortTable(columnIndex) {
                const table = document.getElementById('monthlyTable');
                const tbody = table.getElementsByTagName('tbody')[0];
                const rows = Array.from(tbody.getElementsByTagName('tr'));
                
                // Clear previous sort indicators
                const headers = table.getElementsByTagName('th');
                for (let i = 0; i < headers.length; i++) {
                    headers[i].classList.remove('sort-asc', 'sort-desc');
                }
                
                const currentSortColumn = table.getAttribute('data-sort-column');
                const isAscending = currentSortColumn != columnIndex || table.getAttribute('data-sort-order') !== 'asc';
                
                // Set new sort column and order
                table.setAttribute('data-sort-column', columnIndex);
                table.setAttribute('data-sort-order', isAscending ? 'asc' : 'desc');
                
                // Add sort indicator to current column
                headers[columnIndex].classList.add(isAscending ? 'sort-asc' : 'sort-desc');
                
                rows.sort((a, b) => {
                    const aText = a.getElementsByTagName('td')[columnIndex].textContent.trim();
                    const bText = b.getElementsByTagName('td')[columnIndex].textContent.trim();
                    
                    // Try to parse as numbers first
                    // Remove non-numeric characters except minus and decimal point
                    const aNumStr = aText.replace(/[^0-9.-]/g, '');
                    const bNumStr = bText.replace(/[^0-9.-]/g, '');
                    
                    const aNum = parseFloat(aNumStr);
                    const bNum = parseFloat(bNumStr);
                    
                    if (!isNaN(aNum) && !isNaN(bNum)) {
                        return isAscending ? aNum - bNum : bNum - aNum;
                    }
                    
                    // Special handling for Bulan Tahun column (MM/YYYY format)
                    if (columnIndex === 0) {
                        const [aMonth, aYear] = aText.split('/');
                        const [bMonth, bYear] = bText.split('/');
                        const aDate = new Date(aYear, aMonth - 1);
                        const bDate = new Date(bYear, bMonth - 1);
                        return isAscending ? aDate - bDate : bDate - aDate;
                    }
                    
                    // Otherwise sort as strings
                    return isAscending ? aText.localeCompare(bText) : bText.localeCompare(aText);
                });
                
                // Re-append sorted rows
                rows.forEach(row => tbody.appendChild(row));
            }
        </script>
    </head>
    <body>
        <h2>Hasil Analisis Laporan Backtest</h2>
        
        <div class='settings'>
            <h3>Settings</h3><table><tr><td><strong>Symbol</strong></td><td></td></tr><tr><td><strong>Period</strong></td><td></td></tr></table></div>
        
        <h3>Analisa Bulanan</h3><p>Tidak ada data bulanan yang ditemukan. Pastikan file laporan berisi data trades.</p><br><a href='index.php'>Unggah file lain</a>
    </body>
    </html>