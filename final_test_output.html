<h2>Debug: Extracted Trades</h2><p>Jumlah trades ditemukan: 246</p><h3>Sample Trades Data:</h3><pre>Array
(
    [Time] => 2025.01.02 04:55:00
    [Deal] => 2
    [Symbol] => USDJPY
    [Type] => sell
    [Direction] => in
    [Volume] => 0.33
    [Price] => 157.285
    [Order] => 2
    [Commission] => 0.00
    [Swap] => 0.00
    [Profit] => 0.00
    [Balance] => 10 000.00
    [Comment] => Sell
)

Array
(
    [Time] => 2025.01.02 08:34:39
    [Deal] => 3
    [Symbol] => USDJPY
    [Type] => buy
    [Direction] => out
    [Volume] => 0.33
    [Price] => 156.715
    [Order] => 3
    [Commission] => 0.00
    [Swap] => 0.00
    [Profit] => 120.03
    [Balance] => 10 120.03
    [Comment] => 
)

Array
(
    [Time] => 2025.01.03 05:50:00
    [Deal] => 4
    [Symbol] => USDJPY
    [Type] => buy
    [Direction] => in
    [Volume] => 0.7
    [Price] => 157.446
    [Order] => 4
    [Commission] => 0.00
    [Swap] => 0.00
    [Profit] => 0.00
    [Balance] => 10 120.03
    [Comment] => Buy
)

Array
(
    [Time] => 2025.01.03 05:59:01
    [Deal] => 5
    [Symbol] => USDJPY
    [Type] => sell
    [Direction] => out
    [Volume] => 0.7
    [Price] => 157.220
    [Order] => 5
    [Commission] => 0.00
    [Swap] => 0.00
    [Profit] => -100.62
    [Balance] => 10 019.41
    [Comment] => 
)

Array
(
    [Time] => 2025.01.07 03:10:00
    [Deal] => 6
    [Symbol] => USDJPY
    [Type] => buy
    [Direction] => in
    [Volume] => 0.32
    [Price] => 158.244
    [Order] => 6
    [Commission] => 0.00
    [Swap] => 0.00
    [Profit] => 0.00
    [Balance] => 10 019.41
    [Comment] => Buy
)

</pre><h2>Debug: Monthly Stats</h2><p>Jumlah bulan ditemukan: 6</p><pre>Array
(
    [2025-01] => Array
        (
            [bulan] => 01
            [tahun] => 2025
            [profit_trade] => 723.14
            [loss_trade] => -1308.11
            [jumlah_trade] => 38
            [winrate] => 15.789473684211
            [gross_profit] => 723.14
            [gross_loss] => -1308.11
            [net_profit] => -584.97
            [profit_factor] => 0.55281283684094
            [recovery_factor] => 0.7851840914887
            [max_drawdown] => 745.01
            [expected_payoff] => -15.393947368421
            [sharpe_ratio] => -0.20443798057452
            [winning_trades] => 6
            [losing_trades] => 32
            [total_winning] => 723.14
            [total_losing] => -1308.11
            [equity_curve] => Array
                (
                    [0] => 0
                    [1] => 120.03
                    [2] => 120.03
                    [3] => 19.41
                    [4] => 19.41
                    [5] => -80.8
                    [6] => -80.8
                    [7] => -181.71
                    [8] => -181.71
                    [9] => -281.84
                    [10] => -281.84
                    [11] => -384.65
                    [12] => -384.65
                    [13] => -262.59
                    [14] => -262.59
                    [15] => -363.33
                    [16] => -363.33
                    [17] => -243.2
                    [18] => -243.2
                    [19] => -122.66
                    [20] => -122.66
                    [21] => -223.12
                    [22] => -223.12
                    [23] => -323.25
                    [24] => -323.25
                    [25] => -424.48
                    [26] => -424.48
                    [27] => -524.58
                    [28] => -524.58
                    [29] => -624.98
                    [30] => -624.98
                    [31] => -504.84
                    [32] => -504.84
                    [33] => -604.85
                    [34] => -604.85
                    [35] => -484.61
                    [36] => -484.61
                    [37] => -584.97
                )

            [profits] => Array
                (
                    [0] => 0
                    [1] => 120.03
                    [2] => 0
                    [3] => -100.62
                    [4] => 0
                    [5] => -100.21
                    [6] => 0
                    [7] => -100.91
                    [8] => 0
                    [9] => -100.13
                    [10] => 0
                    [11] => -102.81
                    [12] => 0
                    [13] => 122.06
                    [14] => 0
                    [15] => -100.74
                    [16] => 0
                    [17] => 120.13
                    [18] => 0
                    [19] => 120.54
                    [20] => 0
                    [21] => -100.46
                    [22] => 0
                    [23] => -100.13
                    [24] => 0
                    [25] => -101.23
                    [26] => 0
                    [27] => -100.1
                    [28] => 0
                    [29] => -100.4
                    [30] => 0
                    [31] => 120.14
                    [32] => 0
                    [33] => -100.01
                    [34] => 0
                    [35] => 120.24
                    [36] => 0
                    [37] => -100.36
                )

        )

    [2025-02] => Array
        (
            [bulan] => 02
            [tahun] => 2025
            [profit_trade] => 1724.54
            [loss_trade] => -604.19
            [jumlah_trade] => 40
            [winrate] => 35
            [gross_profit] => 1724.54
            [gross_loss] => -604.19
            [net_profit] => 1120.35
            [profit_factor] => 2.8543007994174
            [recovery_factor] => 11.070652173913
            [max_drawdown] => 101.2
            [expected_payoff] => 28.00875
            [sharpe_ratio] => 0.35471240519623
            [winning_trades] => 14
            [losing_trades] => 26
            [total_winning] => 1724.54
            [total_losing] => -604.19
            [equity_curve] => Array
                (
                    [0] => 0
                    [1] => -100.64
                    [2] => -100.64
                    [3] => 21.14
                    [4] => 21.14
                    [5] => 141.28
                    [6] => 141.28
                    [7] => 262.96
                    [8] => 262.96
                    [9] => 383.08
                    [10] => 383.08
                    [11] => 503.93
                    [12] => 503.93
                    [13] => 403.07
                    [14] => 403.07
                    [15] => 560.54
                    [16] => 560.54
                    [17] => 460.44
                    [18] => 460.44
                    [19] => 580.72
                    [20] => 580.72
                    [21] => 701.73
                    [22] => 701.73
                    [23] => 822.02
                    [24] => 822.02
                    [25] => 721.1
                    [26] => 721.1
                    [27] => 841.19
                    [28] => 841.19
                    [29] => 961.82
                    [30] => 961.82
                    [31] => 1081.84
                    [32] => 1081.84
                    [33] => 980.64
                    [34] => 980.64
                    [35] => 1100.73
                    [36] => 1100.73
                    [37] => 1220.82
                    [38] => 1220.82
                    [39] => 1120.35
                )

            [profits] => Array
                (
                    [0] => 0
                    [1] => -100.64
                    [2] => 0
                    [3] => 121.78
                    [4] => 0
                    [5] => 120.14
                    [6] => 0
                    [7] => 121.68
                    [8] => 0
                    [9] => 120.12
                    [10] => 0
                    [11] => 120.85
                    [12] => 0
                    [13] => -100.86
                    [14] => 0
                    [15] => 157.47
                    [16] => 0
                    [17] => -100.1
                    [18] => 0
                    [19] => 120.28
                    [20] => 0
                    [21] => 121.01
                    [22] => 0
                    [23] => 120.29
                    [24] => 0
                    [25] => -100.92
                    [26] => 0
                    [27] => 120.09
                    [28] => 0
                    [29] => 120.63
                    [30] => 0
                    [31] => 120.02
                    [32] => 0
                    [33] => -101.2
                    [34] => 0
                    [35] => 120.09
                    [36] => 0
                    [37] => 120.09
                    [38] => 0
                    [39] => -100.47
                )

        )

    [2025-03] => Array
        (
            [bulan] => 03
            [tahun] => 2025
            [profit_trade] => 1443.76
            [loss_trade] => -803.56
            [jumlah_trade] => 40
            [winrate] => 30
            [gross_profit] => 1443.76
            [gross_loss] => -803.56
            [net_profit] => 640.2
            [profit_factor] => 1.7967046642441
            [recovery_factor] => 2.1231014127479
            [max_drawdown] => 301.54
            [expected_payoff] => 16.005
            [sharpe_ratio] => 0.20227374600226
            [winning_trades] => 12
            [losing_trades] => 28
            [total_winning] => 1443.76
            [total_losing] => -803.56
            [equity_curve] => Array
                (
                    [0] => 0
                    [1] => -100.81
                    [2] => -100.81
                    [3] => -200.94
                    [4] => -200.94
                    [5] => -301.54
                    [6] => -301.54
                    [7] => -181.2
                    [8] => -181.2
                    [9] => -281.32
                    [10] => -281.32
                    [11] => -161.21
                    [12] => -161.21
                    [13] => -262.36
                    [14] => -262.36
                    [15] => -141.75
                    [16] => -141.75
                    [17] => -21.13
                    [18] => -21.13
                    [19] => -121.22
                    [20] => -121.22
                    [21] => -0.58999999999989
                    [22] => -0.58999999999989
                    [23] => -100.6
                    [24] => -100.6
                    [25] => -201.25
                    [26] => -201.25
                    [27] => -81.06
                    [28] => -81.06
                    [29] => 39.31
                    [30] => 39.31
                    [31] => 159.31
                    [32] => 159.31
                    [33] => 279.48
                    [34] => 279.48
                    [35] => 399.54
                    [36] => 399.54
                    [37] => 519.65
                    [38] => 519.65
                    [39] => 640.2
                )

            [profits] => Array
                (
                    [0] => 0
                    [1] => -100.81
                    [2] => 0
                    [3] => -100.13
                    [4] => 0
                    [5] => -100.6
                    [6] => 0
                    [7] => 120.34
                    [8] => 0
                    [9] => -100.12
                    [10] => 0
                    [11] => 120.11
                    [12] => 0
                    [13] => -101.15
                    [14] => 0
                    [15] => 120.61
                    [16] => 0
                    [17] => 120.62
                    [18] => 0
                    [19] => -100.09
                    [20] => 0
                    [21] => 120.63
                    [22] => 0
                    [23] => -100.01
                    [24] => 0
                    [25] => -100.65
                    [26] => 0
                    [27] => 120.19
                    [28] => 0
                    [29] => 120.37
                    [30] => 0
                    [31] => 120
                    [32] => 0
                    [33] => 120.17
                    [34] => 0
                    [35] => 120.06
                    [36] => 0
                    [37] => 120.11
                    [38] => 0
                    [39] => 120.55
                )

        )

)
</pre><!DOCTYPE html>
    <html>
    <head>
        <title>Hasil Analisis Laporan Backtest</title>
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            table { border-collapse: collapse; width: 100%; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; cursor: pointer; }
            th:hover { background-color: #ddd; }
            h2 { color: #333; }
            .settings { background-color: #f9f9f9; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
            .sortable { background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJUlEQVR42mNgYGD4z8DAwMgABXAGKQYmwN8I1QzTFK8aBgYAJI0TjCK7jowAAAAASUVORK5CYII='); background-repeat: no-repeat; background-position: center right; padding-right: 15px; }
            .sort-asc::after { content: ' ↑'; }
            .sort-desc::after { content: ' ↓'; }
        </style>
        <script>
            function sortTable(columnIndex) {
                const table = document.getElementById('monthlyTable');
                const tbody = table.getElementsByTagName('tbody')[0];
                const rows = Array.from(tbody.getElementsByTagName('tr'));
                
                // Clear previous sort indicators
                const headers = table.getElementsByTagName('th');
                for (let i = 0; i < headers.length; i++) {
                    headers[i].classList.remove('sort-asc', 'sort-desc');
                }
                
                const currentSortColumn = table.getAttribute('data-sort-column');
                const isAscending = currentSortColumn != columnIndex || table.getAttribute('data-sort-order') !== 'asc';
                
                // Set new sort column and order
                table.setAttribute('data-sort-column', columnIndex);
                table.setAttribute('data-sort-order', isAscending ? 'asc' : 'desc');
                
                // Add sort indicator to current column
                headers[columnIndex].classList.add(isAscending ? 'sort-asc' : 'sort-desc');
                
                rows.sort((a, b) => {
                    const aText = a.getElementsByTagName('td')[columnIndex].textContent.trim();
                    const bText = b.getElementsByTagName('td')[columnIndex].textContent.trim();
                    
                    // Try to parse as numbers first
                    // Remove non-numeric characters except minus and decimal point
                    const aNumStr = aText.replace(/[^0-9.-]/g, '');
                    const bNumStr = bText.replace(/[^0-9.-]/g, '');
                    
                    const aNum = parseFloat(aNumStr);
                    const bNum = parseFloat(bNumStr);
                    
                    if (!isNaN(aNum) && !isNaN(bNum)) {
                        return isAscending ? aNum - bNum : bNum - aNum;
                    }
                    
                    // Special handling for Bulan Tahun column (MM/YYYY format)
                    if (columnIndex === 0) {
                        const [aMonth, aYear] = aText.split('/');
                        const [bMonth, bYear] = bText.split('/');
                        const aDate = new Date(aYear, aMonth - 1);
                        const bDate = new Date(bYear, bMonth - 1);
                        return isAscending ? aDate - bDate : bDate - aDate;
                    }
                    
                    // Otherwise sort as strings
                    return isAscending ? aText.localeCompare(bText) : bText.localeCompare(aText);
                });
                
                // Re-append sorted rows
                rows.forEach(row => tbody.appendChild(row));
            }
        </script>
    </head>
    <body>
        <h2>Hasil Analisis Laporan Backtest</h2>
        
        <div class='settings'>
            <h3>Settings</h3><table><tr><td><strong>Symbol</strong></td><td></td></tr><tr><td><strong>Period</strong></td><td></td></tr></table></div>
        
        <h3>Analisa Bulanan</h3><table id='monthlyTable' data-sort-order='none' data-sort-column='-1'>
                <thead>
                <tr>
                    <th onclick='sortTable(0)' class='sortable'>Bulan Tahun</th>
                    <th onclick='sortTable(1)' class='sortable'>Profit Trade</th>
                    <th onclick='sortTable(2)' class='sortable'>Loss Trade</th>
                    <th onclick='sortTable(3)' class='sortable'>Jumlah Trade</th>
                    <th onclick='sortTable(4)' class='sortable'>Winrate</th>
                    <th onclick='sortTable(5)' class='sortable'>Gross Profit</th>
                    <th onclick='sortTable(6)' class='sortable'>Gross Loss</th>
                    <th onclick='sortTable(7)' class='sortable'>Net Profit</th>
                    <th onclick='sortTable(8)' class='sortable'>Profit Factor</th>
                    <th onclick='sortTable(9)' class='sortable'>Recovery Factor</th>
                    <th onclick='sortTable(10)' class='sortable'>Max Drawdown</th>
                    <th onclick='sortTable(11)' class='sortable'>Expected Payoff</th>
                    <th onclick='sortTable(12)' class='sortable'>Sharpe Ratio</th>
                </tr>
                </thead>
                <tbody><tr>
                    <td>01/2025</td>
                    <td>723.14</td>
                    <td>-1,308.11</td>
                    <td>38</td>
                    <td>15.79%</td>
                    <td>723.14</td>
                    <td>-1,308.11</td>
                    <td>-584.97</td>
                    <td>0.55</td>
                    <td>0.79</td>
                    <td>745.01</td>
                    <td>-15.39</td>
                    <td>-0.20</td>
                  </tr><tr>
                    <td>02/2025</td>
                    <td>1,724.54</td>
                    <td>-604.19</td>
                    <td>40</td>
                    <td>35.00%</td>
                    <td>1,724.54</td>
                    <td>-604.19</td>
                    <td>1,120.35</td>
                    <td>2.85</td>
                    <td>11.07</td>
                    <td>101.20</td>
                    <td>28.01</td>
                    <td>0.35</td>
                  </tr><tr>
                    <td>03/2025</td>
                    <td>1,443.76</td>
                    <td>-803.56</td>
                    <td>40</td>
                    <td>30.00%</td>
                    <td>1,443.76</td>
                    <td>-803.56</td>
                    <td>640.20</td>
                    <td>1.80</td>
                    <td>2.12</td>
                    <td>301.54</td>
                    <td>16.01</td>
                    <td>0.20</td>
                  </tr><tr>
                    <td>04/2025</td>
                    <td>1,805.56</td>
                    <td>-705.52</td>
                    <td>44</td>
                    <td>34.09%</td>
                    <td>1,805.56</td>
                    <td>-705.52</td>
                    <td>1,100.04</td>
                    <td>2.56</td>
                    <td>10.76</td>
                    <td>102.27</td>
                    <td>25.00</td>
                    <td>0.32</td>
                  </tr><tr>
                    <td>05/2025</td>
                    <td>1,324.24</td>
                    <td>-1,106.39</td>
                    <td>44</td>
                    <td>25.00%</td>
                    <td>1,324.24</td>
                    <td>-1,106.39</td>
                    <td>217.85</td>
                    <td>1.20</td>
                    <td>0.72</td>
                    <td>301.82</td>
                    <td>4.95</td>
                    <td>0.06</td>
                  </tr><tr>
                    <td>06/2025</td>
                    <td>1,327.15</td>
                    <td>-904.36</td>
                    <td>40</td>
                    <td>27.50%</td>
                    <td>1,327.15</td>
                    <td>-904.36</td>
                    <td>422.79</td>
                    <td>1.47</td>
                    <td>1.40</td>
                    <td>302.06</td>
                    <td>10.57</td>
                    <td>0.13</td>
                  </tr></tbody></table><br><a href='index.php'>Unggah file lain</a>
    </body>
    </html>